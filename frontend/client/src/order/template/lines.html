<div class="cards">
<!-- 
#5126177685504000
Seller  VICTORIA'S SECRET
Buyer   5654313976201216
State   checkout
Billing Address 
Margot Robbie
Rodeo Drive 42
Beverly Hills California 90210
United States
Shipping Address    
Margot Robbie
Rodeo Drive 42
Beverly Hills California 90210
United States
Delivery Method FedEx International Priority ($112.75)
-->
    <div ng-if="stage.current > 1" class="card">
        <div class="card-inner">
            <div class="padding-16 clearfix">
                <h1 class="headline">#{{order.id}}</h1>
                <table class="card-table">
                    <tbody>
                        <tr>
                            <td class="first info">Seller</td>
                            <td class="first">{{order._seller.name}}</td>
                        </tr>
                        <tr>
                            <td class="first info">Buyer</td>
                            <td class="first">{{order.parent.parent.id}}</td>
                        </tr>
                        <tr>
                            <td class="first info">State</td>
                            <td class="first">{{order.state}}</td>
                        </tr>
                        <tr>
                            <td class="secondary info">Billing Address</td>
                            <td class="secondary">
                                <div>{{order.billing_address.name}}</div>
                                <div>{{order.billing_address.address}}</div>
                                <div>{{order.billing_address.city}} {{order.billing_address.region}} {{order.billing_address.postal_code}}</div>
                                <div>{{order.billing_address.country}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="secondary info">Shipping Address</td>
                            <td class="secondary">
                                <div>{{order.shipping_address.name}}</div>
                                <div>{{order.shipping_address.address}}</div>
                                <div>{{order.shipping_address.city}} {{order.shipping_address.region}} {{order.shipping_address.postal_code}}</div>
                                <div>{{order.shipping_address.country}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="secondary info">Delivery</td>
                            <td class="secondary">{{order.carrier.description}} {{order.carrier.total|formatCurrency:order.currency}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div drag="true" jqyoui-draggable="{onDrag: 'lineDrag.onDrag(line)', onStop: 'lineDrag.onStop(line)'}" jqyoui-options="lineDrag.options" class="card" ng-if="line._state !== 'deleted' && line.product.quantity > 0" ng-repeat="line in order._lines track by $index">
        <button loading ng-click="cmd.line.view(line)" type="button" md-ink-ripple class="menu-item card-inner">
            <div class="delete-overlay"></div>
            <div class="card-primary-action">
                <h1 class="headline">{{line.product.name}}</h1>
                <span class="first">{{line.product.code}}</span>
                <span class="first">{{line.product.unit_price|formatCurrency:order.currency}}</span>
                <input type="hidden" value="{{line.product.name}}" name="item_name_{{line.sequence}}" />
                <input type="hidden" value="{{line.sequence}}" name="item_number_{{line.sequence}}" />
                <input type="hidden" value="{{line.product.quantity}}" name="quantity_{{line.sequence}}" />
                <input type="hidden" value="{{line.product.unit_price}}" name="amount_{{line.sequence}}" />
                <input type="hidden" value="{{line.discount}}" name="discount_rate_{{line.sequence}}" />
                <table class="card-table">
                    <tbody>
                        <tr ng-repeat="variant in line.product.variant_signature track by $index">
                            <td class="first info">{{format.variantLabel(variant)}}</td>
                            <td class="first">{{format.variantValue(variant)}}</td>
                        </tr>
                        <tr>
                            <td class="first info">Quantity ({{line.product.uom.symbol}})</td>
                            <td class="first">{{line.product.quantity}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="clearfix padding-16">
                <table class="pull-right card-table">
                    <tbody>
                        <tr>
                            <td class="first info">Subtotal</td>
                            <td class="first">{{line.discount_subtotal|formatCurrency:order.currency}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </button>
        <div ng-if="stage.current < 2" class="card-action-top-right">
            <a ng-class="{'no-move': config.ui.specifics.sortableOptions.disabled}" md-ink-ripple-action draggable-click="lineDrag.whatSortMeans($event)" class="button-square sort-handle">
                <icon type="action.delete"></icon>
            </a>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="padding-16 clearfix">
                <h1 class="headline">Order Summary</h1>
                <table class="pull-right card-table">
                    <tbody>
                        <tr>
                            <td class="first info">Shipping &amp; Handling</td>
                            <td ng-if="stage.current > 1" class="first">{{order.carrier.subtotal|formatCurrency:order.currency}}</td>
                            <td ng-if="stage.current === 1" class="first">To be calculated.</td>
                        </tr>
                        <tr>
                            <td class="first info">Net Total</td>
                            <td class="first">{{order.untaxed_amount|formatCurrency:order.currency}}</td>
                        </tr>
                        <tr>
                            <td class="first info">Taxes</td>
                            <td ng-if="stage.current > 1" class="first">{{order.tax_amount|formatCurrency:order.currency}}</td>
                            <td ng-if="stage.current === 1" class="first">To be calculated.</td>
                        </tr>
                        <tr>
                            <td class="first info">Total</td>
                            <td class="first">{{order.total_amount|formatCurrency:order.currency}}</td>
                        </tr>
                        <tr>
                            <td class="first info">Currency</td>
                            <td class="first">{{order.currency.name}} ({{order.currency.code}})</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
